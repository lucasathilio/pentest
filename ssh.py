import subprocess

# Definições de conexão
hostname = '192.168.80.2'
username = 'root'
password = 'pujkFGC471-2j'
command = 'ls'  # Comando a ser executado no servidor remoto

# Monta o comando SSH
ssh_command = f"sshpass -p '{password}' ssh {username}@{hostname} {command}"

try:
    # Executa o comando SSH
    result = subprocess.run(ssh_command, shell=True, check=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
    
    # Decodifica e imprime a saída do comando
    print("Saída do comando:")
    print(result.stdout.decode())
    
    # Verifica erros
    if result.stderr:
        print("Erro:")
        print(result.stderr.decode())

except subprocess.CalledProcessError as e:
    print(f"Erro ao executar o comando: {e}")

